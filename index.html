<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CSC Quick Quiz ‚Äî 15-Item Timed Round</title>
<style>
:root{
  --bg:#f7fafc;--card:#fff;--accent:#0f172a;
}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
     background:var(--bg);color:var(--accent);margin:0;padding:18px;
     -webkit-font-smoothing:antialiased;}
.wrap{max-width:900px;margin:0 auto;}
header{display:flex;gap:16px;align-items:center;justify-content:space-between;
       margin-bottom:12px;flex-wrap:wrap;}
h1{font-size:1.1rem;margin:0}
.controls{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
select,button{padding:8px 10px;border-radius:8px;border:1px solid #e6e9ee;
              background:#fff;cursor:pointer}
.grid{display:grid;grid-template-columns:1fr;gap:12px}
.qpanel{background:var(--card);border-radius:10px;padding:12px;
        box-shadow:0 2px 10px rgba(12,15,20,.04);max-height:70vh;overflow:auto}
.q{padding:10px;border-bottom:1px solid #f1f5f9}
.q:last-child{border-bottom:0}
.q h3{margin:0 0 8px 0;font-size:0.98rem}
.opts{display:flex;flex-direction:column;gap:6px}
label{cursor:pointer;padding:8px;border-radius:8px;border:1px solid transparent}
input[type=radio]{accent-color:#334155}
.actions{display:flex;gap:8px;align-items:center;margin-top:10px;
         flex-wrap:wrap;justify-content:space-between}
.muted{font-size:0.85rem;color:#64748b}
footer{margin-top:12px;font-size:0.85rem;color:#475569;text-align:center}
.btn{background:#111827;color:#fff;border:0;padding:8px 10px;border-radius:8px;cursor:pointer}
.answer{margin-top:8px;padding:6px 8px;border-left:4px solid #0f172a;background:#f8fafc;border-radius:4px}
.scorebox{font-weight:600;color:#0f172a;font-size:1.1rem;margin-top:8px;text-align:center}
.timer{font-weight:600;font-size:1rem;color:#0f172a;}
@keyframes graffiti {
  0%{transform:scale(1) rotate(0);color:#0f172a;}
  25%{transform:scale(1.3) rotate(-5deg);color:#f59e0b;}
  50%{transform:scale(1.5) rotate(5deg);color:#16a34a;}
  75%{transform:scale(1.3) rotate(-5deg);color:#3b82f6;}
  100%{transform:scale(1) rotate(0);color:#0f172a;}
}
.graffiti{animation:graffiti 0.9s ease-in-out 3;}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>CSC Quick Quiz ‚Äî 15 rotating items</h1>
    <div class="controls">
      <select id="category"></select>
      <button id="newSet" class="btn">New set</button>
      <span class="timer" id="timer">15:00</span>
    </div>
  </header>

  <div class="grid">
    <div class="qpanel">
      <div id="questions"></div>
      <div class="actions">
        <div>
          <button id="prevPage">Prev</button>
          <button id="nextPage">Next</button>
        </div>
        <div>
          <button id="submitBtn" class="btn">Submit Answers</button>
        </div>
      </div>
      <div class="muted" id="pageInfo">Showing 1‚Äì15</div>
      <div id="score" class="scorebox"></div>
    </div>
  </div>

  <footer>CSC Reviewer Quiz ‚Ä¢ Randomized 15 items per set</footer>
</div>

<script>
const shuffle=a=>{for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;};
const CATEGORIES=["Graphs & Data","Vocabulary","Idiomatic / Grammar","Analogy & Logic",
  "Reading Comprehension","Paragraph Organization","Clerical Operations",
  "Philippine Constitution & General Info","Numerical Reasoning"];
const seeded=[{id:"V12",category:"Vocabulary",q:"That perfume always 'evokes' pleasant memories. 'Evokes' here most nearly means:",choices:["angers","erases","calls up","confuses"],answer:"calls up"}];
function fill(bank,target=300){const b=[...bank];const cats=CATEGORIES;let n=1;
  while(b.length<target){const cat=cats[b.length%cats.length];const id="F"+(b.length+1);
    b.push({id,category:cat,q:`Sample ${cat} question #${b.length}`,choices:["A","B","C","D"],answer:"A"});n++;}return b;}
let BANK=fill(seeded);
const byCat={};CATEGORIES.forEach(c=>byCat[c]=BANK.filter(q=>q.category===c));
const qs=document.getElementById('questions'),catSel=document.getElementById('category'),
      pageInfo=document.getElementById('pageInfo'),score=document.getElementById('score'),
      timerEl=document.getElementById('timer');
CATEGORIES.forEach(c=>{let o=document.createElement('option');o.value=c;o.textContent=c;catSel.appendChild(o);});

let curCat=CATEGORIES[0],curPage=0,pageSize=15,set=[],pages=[],timerInt,remaining=900,timerStarted=false;

function makeSet(cat){
  clearInterval(timerInt);remaining=900;updateTimer();timerStarted=false;
  const pool=byCat[cat].slice();shuffle(pool);
  pages=[];for(let i=0;i<pool.length;i+=pageSize)pages.push(pool.slice(i,i+pageSize));
  curPage=0;set=pages[curPage];render();
}

function render(){
  qs.innerHTML='';score.textContent='';
  if(!set.length)return;
  set.forEach((q,i)=>{
    const div=document.createElement('div');div.className='q';
    div.innerHTML=`<h3>${i+1}. ${q.q}</h3>`;
    const opts=document.createElement('div');opts.className='opts';
    q.choices.forEach((ch,j)=>{
      const id=`${q.id}-${j}`;
      opts.innerHTML+=`<label><input type="radio" name="${q.id}" value="${ch}"> ${ch}</label>`;
    });
    div.appendChild(opts);qs.appendChild(div);
  });
  pageInfo.textContent=`Showing 1‚Äì${set.length}`;
  qs.querySelectorAll('input[type=radio]').forEach(inp=>{
    inp.addEventListener('change',()=>{
      if(!timerStarted){timerStarted=true;startTimer();}
    });
  });
}

function startTimer(){
  clearInterval(timerInt);
  timerInt=setInterval(()=>{
    remaining--;
    updateTimer();
    if(remaining<=0){clearInterval(timerInt);autoSubmit();}
  },1000);
}
function updateTimer(){
  const m=Math.floor(remaining/60),s=remaining%60;
  timerEl.textContent=`${m.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`;
}
function autoSubmit(){document.getElementById('submitBtn').click();}
function escapeHtml(s){return s.replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[m]));}

document.getElementById('submitBtn').addEventListener('click',()=>{
  clearInterval(timerInt);
  let correct=0,total=set.length;
  set.forEach((q,i)=>{
    const sel=document.querySelector(`input[name="${q.id}"]:checked`);
    const qEl=qs.querySelectorAll('.q')[i];
    const prev=qEl.querySelector('.answer');if(prev)prev.remove();
    const ans=document.createElement('div');ans.className='answer';
    if(sel&&sel.value===q.answer){correct++;ans.innerHTML=`‚úÖ Correct! <b>${escapeHtml(q.answer)}</b>`;}
    else ans.innerHTML=`‚ùå Correct answer: <b>${escapeHtml(q.answer)}</b>`;
    qEl.appendChild(ans);
  });
  const pct=Math.round((correct/total)*100);
  let emoji=pct<80?"üò¢":"üéâ";
  score.innerHTML=`Score: ${correct}/${total} (${pct}%) ${emoji}`;
  if(pct>=80)score.classList.add("graffiti");else score.classList.remove("graffiti");
});
document.getElementById('nextPage').onclick=()=>{curPage=(curPage+1)%pages.length;set=pages[curPage];render();}
document.getElementById('prevPage').onclick=()=>{curPage=(curPage-1+pages.length)%pages.length;set=pages[curPage];render();}
document.getElementById('newSet').onclick=()=>makeSet(curCat);
catSel.onchange=e=>{curCat=e.target.value;makeSet(curCat);}
makeSet(curCat);
</script>
</body>
</html>
